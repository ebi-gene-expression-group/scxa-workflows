{
    "a_galaxy_workflow": "true", 
    "annotation": "Filters TPM matrices based on filtered genes and cells steps done on other workflows", 
    "format-version": "0.1", 
    "name": "Scanpy TPM Filtering", 
    "steps": {
        "0": {
            "annotation": "", 
            "content_id": null, 
            "errors": null, 
            "id": 0, 
            "input_connections": {}, 
            "inputs": [], 
            "label": "TPM_matrix", 
            "name": "Input dataset", 
            "outputs": [], 
            "position": {
                "left": 138, 
                "top": 221.296875
            }, 
            "tool_id": null, 
            "tool_state": "{}", 
            "tool_version": null, 
            "type": "data_input", 
            "uuid": "6631a2d1-77f3-4030-9bb8-f037c6c59df0", 
            "workflow_outputs": [
                {
                    "label": null, 
                    "output_name": "output", 
                    "uuid": "6d759c7d-1942-490e-adc2-6bb1a2fc468a"
                }
            ]
        }, 
        "1": {
            "annotation": "", 
            "content_id": null, 
            "errors": null, 
            "id": 1, 
            "input_connections": {}, 
            "inputs": [], 
            "label": "TPM_genes", 
            "name": "Input dataset", 
            "outputs": [], 
            "position": {
                "left": 139, 
                "top": 303.296875
            }, 
            "tool_id": null, 
            "tool_state": "{}", 
            "tool_version": null, 
            "type": "data_input", 
            "uuid": "8b5b514c-1b46-41f2-8f2c-8b9060b405df", 
            "workflow_outputs": [
                {
                    "label": null, 
                    "output_name": "output", 
                    "uuid": "332d6d9b-cea2-408d-9917-93cda6ec8b9f"
                }
            ]
        }, 
        "2": {
            "annotation": "", 
            "content_id": null, 
            "errors": null, 
            "id": 2, 
            "input_connections": {}, 
            "inputs": [], 
            "label": "TPM_barcodes", 
            "name": "Input dataset", 
            "outputs": [], 
            "position": {
                "left": 139, 
                "top": 387.296875
            }, 
            "tool_id": null, 
            "tool_state": "{}", 
            "tool_version": null, 
            "type": "data_input", 
            "uuid": "89ce7985-b4ac-4b5b-97d4-621ec1df1b39", 
            "workflow_outputs": [
                {
                    "label": null, 
                    "output_name": "output", 
                    "uuid": "e132774a-c41f-45ac-8e97-ed14d5ddf00c"
                }
            ]
        }, 
        "3": {
            "annotation": "This should be the 10x raw_filtered genes output (which will have two columns, at least the first one should be gene identifiers).", 
            "content_id": null, 
            "errors": null, 
            "id": 3, 
            "input_connections": {}, 
            "inputs": [], 
            "label": "filtered_genes", 
            "name": "Input dataset", 
            "outputs": [], 
            "position": {
                "left": 141, 
                "top": 471.296875
            }, 
            "tool_id": null, 
            "tool_state": "{}", 
            "tool_version": null, 
            "type": "data_input", 
            "uuid": "c87e9acc-fb38-46c1-9cb5-3a3bb7301ede", 
            "workflow_outputs": [
                {
                    "label": null, 
                    "output_name": "output", 
                    "uuid": "2a5a94a7-2585-47e3-a5f8-a364b5df30db"
                }
            ]
        }, 
        "4": {
            "annotation": "This should be the 10x raw_filtered barcodes output (which will have two columns, at least the first one should be gene identifiers).", 
            "content_id": null, 
            "errors": null, 
            "id": 4, 
            "input_connections": {}, 
            "inputs": [], 
            "label": "filtered_barcodes", 
            "name": "Input dataset", 
            "outputs": [], 
            "position": {
                "left": 142, 
                "top": 554.296875
            }, 
            "tool_id": null, 
            "tool_state": "{}", 
            "tool_version": null, 
            "type": "data_input", 
            "uuid": "6df31663-278a-4e01-b3b3-9c455a89c277", 
            "workflow_outputs": [
                {
                    "label": null, 
                    "output_name": "output", 
                    "uuid": "f68d6841-6aea-4a8a-bc07-77558d6de7b7"
                }
            ]
        }, 
        "5": {
            "annotation": "", 
            "content_id": "toolshed.g2.bx.psu.edu/repos/ebi-gxa/scanpy_read_10x/scanpy_read_10x/1.3.2+galaxy0", 
            "errors": null, 
            "id": 5, 
            "input_connections": {
                "barcodes": {
                    "id": 2, 
                    "output_name": "output"
                }, 
                "genes": {
                    "id": 1, 
                    "output_name": "output"
                }, 
                "matrix": {
                    "id": 0, 
                    "output_name": "output"
                }
            }, 
            "inputs": [], 
            "label": "TPM_read10x", 
            "name": "Scanpy Read10x", 
            "outputs": [
                {
                    "name": "output_h5", 
                    "type": "h5"
                }
            ], 
            "position": {
                "left": 463, 
                "top": 211.296875
            }, 
            "post_job_actions": {
                "DeleteIntermediatesActionoutput_h5": {
                    "action_arguments": {}, 
                    "action_type": "DeleteIntermediatesAction", 
                    "output_name": "output_h5"
                }, 
                "HideDatasetActionoutput_h5": {
                    "action_arguments": {}, 
                    "action_type": "HideDatasetAction", 
                    "output_name": "output_h5"
                }
            }, 
            "tool_id": "toolshed.g2.bx.psu.edu/repos/ebi-gxa/scanpy_read_10x/scanpy_read_10x/1.3.2+galaxy0", 
            "tool_shed_repository": {
                "changeset_revision": "572b6e3b2aff", 
                "name": "scanpy_read_10x", 
                "owner": "ebi-gxa", 
                "tool_shed": "toolshed.g2.bx.psu.edu"
            }, 
            "tool_state": "{\"__page__\": null, \"genes\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\", \"matrix\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\", \"output_format\": \"\\\"anndata\\\"\", \"var_names\": \"\\\"gene_ids\\\"\", \"__job_resource\": \"{\\\"__current_case__\\\": 0, \\\"__job_resource__select\\\": \\\"no\\\"}\", \"__rerun_remap_job_id__\": null, \"barcodes\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\"}", 
            "tool_version": "1.3.2+galaxy0", 
            "type": "tool", 
            "uuid": "ca33f315-0684-48e8-be78-ca0f71cce4b5", 
            "workflow_outputs": []
        }, 
        "6": {
            "annotation": "Input comes from 10x format, so only use the first column.", 
            "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.1", 
            "errors": null, 
            "id": 6, 
            "input_connections": {
                "infile": {
                    "id": 3, 
                    "output_name": "output"
                }
            }, 
            "inputs": [], 
            "label": "genes_first_column", 
            "name": "Text reformatting", 
            "outputs": [
                {
                    "name": "outfile", 
                    "type": "input"
                }
            ], 
            "position": {
                "left": 467, 
                "top": 429.296875
            }, 
            "post_job_actions": {
                "DeleteIntermediatesActionoutfile": {
                    "action_arguments": {}, 
                    "action_type": "DeleteIntermediatesAction", 
                    "output_name": "outfile"
                }, 
                "HideDatasetActionoutfile": {
                    "action_arguments": {}, 
                    "action_type": "HideDatasetAction", 
                    "output_name": "outfile"
                }
            }, 
            "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.1", 
            "tool_shed_repository": {
                "changeset_revision": "0a8c6b61f0f4", 
                "name": "text_processing", 
                "owner": "bgruening", 
                "tool_shed": "toolshed.g2.bx.psu.edu"
            }, 
            "tool_state": "{\"__job_resource\": \"{\\\"__current_case__\\\": 0, \\\"__job_resource__select\\\": \\\"no\\\"}\", \"__page__\": null, \"__rerun_remap_job_id__\": null, \"code\": \"\\\"{ print $1 }\\\"\", \"infile\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\"}", 
            "tool_version": "1.1.1", 
            "type": "tool", 
            "uuid": "0f8c0e32-8f3f-4cc4-9394-d8625f3fd4ae", 
            "workflow_outputs": []
        }, 
        "7": {
            "annotation": "Input comes from 10x format, so only use the first column.", 
            "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.1", 
            "errors": null, 
            "id": 7, 
            "input_connections": {
                "infile": {
                    "id": 4, 
                    "output_name": "output"
                }
            }, 
            "inputs": [], 
            "label": "barcodes_first_column", 
            "name": "Text reformatting", 
            "outputs": [
                {
                    "name": "outfile", 
                    "type": "input"
                }
            ], 
            "position": {
                "left": 469, 
                "top": 560.296875
            }, 
            "post_job_actions": {
                "DeleteIntermediatesActionoutfile": {
                    "action_arguments": {}, 
                    "action_type": "DeleteIntermediatesAction", 
                    "output_name": "outfile"
                }, 
                "HideDatasetActionoutfile": {
                    "action_arguments": {}, 
                    "action_type": "HideDatasetAction", 
                    "output_name": "outfile"
                }
            }, 
            "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.1", 
            "tool_shed_repository": {
                "changeset_revision": "0a8c6b61f0f4", 
                "name": "text_processing", 
                "owner": "bgruening", 
                "tool_shed": "toolshed.g2.bx.psu.edu"
            }, 
            "tool_state": "{\"__job_resource\": \"{\\\"__current_case__\\\": 0, \\\"__job_resource__select\\\": \\\"no\\\"}\", \"__page__\": null, \"__rerun_remap_job_id__\": null, \"code\": \"\\\"{ print $1 }\\\"\", \"infile\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\"}", 
            "tool_version": "1.1.1", 
            "type": "tool", 
            "uuid": "d5cb21bc-1b48-40eb-8bf1-587fcef6b008", 
            "workflow_outputs": []
        }, 
        "8": {
            "annotation": "", 
            "content_id": "toolshed.g2.bx.psu.edu/repos/ebi-gxa/scanpy_filter_cells/scanpy_filter_cells/1.3.2+galaxy0", 
            "errors": null, 
            "id": 8, 
            "input_connections": {
                "input_obj_file": {
                    "id": 5, 
                    "output_name": "output_h5"
                }, 
                "subset": {
                    "id": 7, 
                    "output_name": "outfile"
                }
            }, 
            "inputs": [], 
            "label": "TPM_filter_cells", 
            "name": "Scanpy FilterCells", 
            "outputs": [
                {
                    "name": "output_h5", 
                    "type": "h5"
                }
            ], 
            "position": {
                "left": 846, 
                "top": 317.296875
            }, 
            "post_job_actions": {
                "DeleteIntermediatesActionoutput_h5": {
                    "action_arguments": {}, 
                    "action_type": "DeleteIntermediatesAction", 
                    "output_name": "output_h5"
                }, 
                "HideDatasetActionoutput_h5": {
                    "action_arguments": {}, 
                    "action_type": "HideDatasetAction", 
                    "output_name": "output_h5"
                }
            }, 
            "tool_id": "toolshed.g2.bx.psu.edu/repos/ebi-gxa/scanpy_filter_cells/scanpy_filter_cells/1.3.2+galaxy0", 
            "tool_shed_repository": {
                "changeset_revision": "9f0ca1641ab2", 
                "name": "scanpy_filter_cells", 
                "owner": "ebi-gxa", 
                "tool_shed": "toolshed.g2.bx.psu.edu"
            }, 
            "tool_state": "{\"subset\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\", \"__page__\": null, \"parameters\": \"[{\\\"__index__\\\": 0, \\\"max\\\": \\\"1000000000.0\\\", \\\"min\\\": \\\"0.0\\\", \\\"name\\\": \\\"n_genes\\\"}]\", \"input_format\": \"\\\"anndata\\\"\", \"input_obj_file\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\", \"output_format\": \"\\\"anndata\\\"\", \"__job_resource\": \"{\\\"__current_case__\\\": 0, \\\"__job_resource__select\\\": \\\"no\\\"}\", \"__rerun_remap_job_id__\": null}", 
            "tool_version": "1.3.2+galaxy0", 
            "type": "tool", 
            "uuid": "9ad0ca38-66c0-4c48-844e-a5bc2072b7e8", 
            "workflow_outputs": []
        }, 
        "9": {
            "annotation": "", 
            "content_id": "toolshed.g2.bx.psu.edu/repos/ebi-gxa/scanpy_filter_genes/scanpy_filter_genes/1.3.2+galaxy1", 
            "errors": null, 
            "id": 9, 
            "input_connections": {
                "input_obj_file": {
                    "id": 8, 
                    "output_name": "output_h5"
                }, 
                "subset": {
                    "id": 6, 
                    "output_name": "outfile"
                }
            }, 
            "inputs": [
                {
                    "description": "runtime parameter for tool Scanpy FilterGenes", 
                    "name": "subset"
                }, 
                {
                    "description": "runtime parameter for tool Scanpy FilterGenes", 
                    "name": "input_obj_file"
                }
            ], 
            "label": "TPM_filter_genes", 
            "name": "Scanpy FilterGenes", 
            "outputs": [
                {
                    "name": "output_h5", 
                    "type": "h5"
                }, 
                {
                    "name": "matrix_10x", 
                    "type": "txt"
                }, 
                {
                    "name": "genes_10x", 
                    "type": "tsv"
                }, 
                {
                    "name": "barcodes_10x", 
                    "type": "tsv"
                }
            ], 
            "position": {
                "left": 1164.5, 
                "top": 383.296875
            }, 
            "post_job_actions": {
                "DeleteIntermediatesActionoutput_h5": {
                    "action_arguments": {}, 
                    "action_type": "DeleteIntermediatesAction", 
                    "output_name": "output_h5"
                }, 
                "HideDatasetActionoutput_h5": {
                    "action_arguments": {}, 
                    "action_type": "HideDatasetAction", 
                    "output_name": "output_h5"
                }, 
                "RenameDatasetActionbarcodes_10x": {
                    "action_arguments": {
                        "newname": "tpm_filtered_barcodes.tsv"
                    }, 
                    "action_type": "RenameDatasetAction", 
                    "output_name": "barcodes_10x"
                }, 
                "RenameDatasetActiongenes_10x": {
                    "action_arguments": {
                        "newname": "tpm_filtered_genes.tsv"
                    }, 
                    "action_type": "RenameDatasetAction", 
                    "output_name": "genes_10x"
                }, 
                "RenameDatasetActionmatrix_10x": {
                    "action_arguments": {
                        "newname": "tpm_filtered_matrix.mtx"
                    }, 
                    "action_type": "RenameDatasetAction", 
                    "output_name": "matrix_10x"
                }
            }, 
            "tool_id": "toolshed.g2.bx.psu.edu/repos/ebi-gxa/scanpy_filter_genes/scanpy_filter_genes/1.3.2+galaxy1", 
            "tool_shed_repository": {
                "changeset_revision": "d1b97a5d5a8d", 
                "name": "scanpy_filter_genes", 
                "owner": "ebi-gxa", 
                "tool_shed": "toolshed.g2.bx.psu.edu"
            }, 
            "tool_state": "{\"subset\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"export_mtx\": \"\\\"true\\\"\", \"parameters\": \"[{\\\"__index__\\\": 0, \\\"max\\\": \\\"1000000000.0\\\", \\\"min\\\": \\\"0.0\\\", \\\"name\\\": \\\"n_cells\\\"}]\", \"input_format\": \"\\\"anndata\\\"\", \"__page__\": null, \"input_obj_file\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"output_format\": \"\\\"anndata\\\"\", \"__job_resource\": \"{\\\"__current_case__\\\": 0, \\\"__job_resource__select\\\": \\\"no\\\"}\", \"__rerun_remap_job_id__\": null}", 
            "tool_version": "1.3.2+galaxy1", 
            "type": "tool", 
            "uuid": "4cccf709-3e32-4225-96dc-e740e6d918ad", 
            "workflow_outputs": [
                {
                    "label": null, 
                    "output_name": "matrix_10x", 
                    "uuid": "a2f705ed-5dad-471a-a20f-4cbb660dfd8a"
                }, 
                {
                    "label": null, 
                    "output_name": "barcodes_10x", 
                    "uuid": "dc5f92c9-6b39-4e7b-b048-fe2a0431f72f"
                }, 
                {
                    "label": null, 
                    "output_name": "genes_10x", 
                    "uuid": "f11bbe37-9c3d-46b5-9349-2ed9962bbae2"
                }
            ]
        }
    }, 
    "tags": [], 
    "uuid": "88441064-6365-42b9-b2bf-2d8905d8f608", 
    "version": 2
}